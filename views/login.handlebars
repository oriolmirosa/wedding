<!DOCTYPE HTML>
<html lang="en">
	<head>
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>Sarah and Oriol</title>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
		<link href="https://netdna.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
		<script src="https://netdna.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
		<link href="https://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css" rel="stylesheet">
		<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Josefin+Sans">
		<script src="/js/parallax.js"></script>
		<link rel="stylesheet" type="text/css" href="/css/styles.css">
		<link rel="stylesheet" type="text/css" href="https://static1.squarespace.com/static/sitecss/561887b2e4b07e497b4037d3/14/515c7bd0e4b054dae3fcf003/561887b2e4b07e497b4037d9/2710-05142015/1464296431035/site.css?&amp;filterFeatures=false">
		<script>
			$(function() {

				var body = $('body');
				var backgrounds = new Array(
					'url("/img/jj-ls.jpg")',
					'url("/img/jj2-ls.jpg")',
					'url("/img/Downtown-SF.jpg")',
					'url("/img/new-mexico-road.jpg")',
					'url("/img/Santa-Fe-NM.jpg")',
					'url("/img/sarahoriolBO.jpg")',
					'url("/img/sarahoriolSF.jpg")'
					);

				var current = 0;

				function nextBackground() {
					body.css(
						'background',
						backgrounds[current = ++current % backgrounds.length]
					);

					body.css(
						'background-size', 'cover'
					);

					body.css(
						'background-repeat', 'no-repeat'
					);

					body.css(
						'background-attachment', 'fixed'
					);

					body.css(
						'background-position', 'center'
					);

					setTimeout(nextBackground, 3000);
				}

				setTimeout(nextBackground, 3000);
				body.css('background', backgrounds[0]);



				$('input[name="password"]').on('input', function() {
					if ($('.bad-password').is(':visible')) {
						console.log('visible!');
						$('.bad-password').slideUp('slow');
					}
				});

				$('#btn-password').click( function (e) {
					e.preventDefault();
					var password = { password: $('input[name="password"]').val() };
					console.log('password: ' + password.password)
					$.post('/passwordsite', password, function (success) {
						console.log('success: ' + success.redirect);
						if (success === '401') {
							$('.bad-password').slideDown('slow');
						} else {
							window.location = success.redirect;
						}
					});
				});
			});
		</script>
	</head>
	<body>
		<div style="height: 100vh; position: relative;">
			<div class="panel panel-default" style="position: absolute; top: 30%; left: 50%; margin-right: -50%; transform: translate(-50%, -50%); border-color: #1c1c1c;">
				<div class="panel-heading" style="line-height: 1em; text-align: center;">{{{__ 'SARAH &amp; ORIOL\'s WEDDING WEBSITE'}}}</div>
				<div class="panel-body">
					<form role="form">
						<div class="form-group" style="text-align: center;">
		    				<label for="pwd">{{{__ 'Please enter the password to visit our site'}}}</label>
		    				<input type="password" name="password" class="form-control" id="pwd" style="text-align: center;" autofocus>
		    			</div>
		    			<div class="bad-password" hidden>
		    				<p style="text-align: center; color: #a94442;"><span class="glyphicon glyphicon-remove" aria-hidden="true" style="text-align: center; color: #a94442;"></span>{{{__ '&nbsp;Wrong password! Try again...'}}}</p>
		    			</div>
		    			<button type="submit" class="btn btn-default center-block" id="btn-password" style="text-align: center; 70px; padding-top: 6px; padding-bottom: 2px; border-color: #fff; background-color: #1c1c1c; border-radius: 0px; color: #fff; font-size: 12px;">{{{__ 'Submit'}}}</button>
					</form>
				</div>
			</div>
		</div>
	</body>
</html>
